# План автоматизации тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.

## Перечень автоматизируемых сценариев
______________________________________________________
### Предусловие
* Адрес приложения http://localhost:8080/

#### Заданный набор карт в симуляторе:
* 4444 4444 4444 4441, status APPROVED
* 4444 4444 4444 4442, status DECLINED

#### Перечень полей формы:
* Поле Месяц – двухзначное число 01-12, валидное значение
* Поле Год – две последние цифры года, но не позднее трех прошлых лет и не может превышать текущую дату, валидное значение
* Поле Владелец – латинские буквы, слова простые не более двух слов, валидное значение
* Поле CVC/CVV – трехзначное число, валидное значение

### Позитивные сценарии:

#### 1. Успешная оплата тура картой, статус "Approved":

* Заполнить поле Номер карты - 4444 4444 4444 4441
* Заполнить все остальные поля валидными значениями
* Нажать кнопку Продолжить

ОP:
* Уведомление "Операция одобрена Банком"
* В БД в payment_entity появится запись со статусом APPROVED

#### 2. Успешная оплата тура в кредит по данным карты, статус "Approved":
* Заполнить поле Номер карты - 4444 4444 4444 4441
* Заполнить все остальные поля валидными значениями
* Нажать кнопку Продолжить

ОР:
*  Уведомление "Операция одобрена Банком"
*  В БД в credit_request_entity появится запись со статусом APPROVED

#### 3. Отказ оплаты тура картой, статус "Declined":
* Заполнить поле Номер карты - 4444 4444 4444 4442
* Заполнить все остальные поля валидными значениями
* Нажать кнопку Продолжить

ОР:
*  Уведомление "Ошибка! Банк отказал в проведении операции"
* В БД в payment_entity появится запись со статусом DECLINED

#### 4. Отказ оплаты тура в кредит по данным карты, статус "Declined":
* Заполнить поле Номер карты - 4444 4444 4444 4442
* Заполнить все остальные поля валидными значениями
* Нажать кнопку Продолжить

ОР:
*  Уведомление "Ошибка! Банк отказал в проведении операции"
*  В БД в credit_request_entity появится запись со статусом DECLINED

### Негативные сценарии

#### 5. Поле Номер карты

5.1 Отправка пустого поля

в ОР: Уведомление об обязательном заполнении поля, данные не отправляются, записей таблицах БД нет.

5.2 Отправка короткого номера карты

ОР: Уведомление о неверном формате введенных данных, данные не отправляются, записей в таблицах БД нет.

5.3 Отправка несуществуещего номера карты банка

ОР: Уведомление об отказе в оплате банком, данные не отправляются, записей в таблицах БД нет.

5.4 Отправка символьных значений

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

5.5 Отправка букв.

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

#### 6. Поле Месяц

6.1 Отправка пустого поля.

ОР: Уведомление об обязательном заполнении поля, данные не отправляются, записей таблицах БД нет.

6.2 Отправка значения 00.

ОР: Уведомление о неверном формате введенных данных, данные не отправляются, записей в таблицах БД нет.

6.3 Отправка нерелевантного значения, больше 12

ОР: Уведомление о неверно введенном сроке, данные не отправляются, записей в таблицах БД нет.

6.4 Отправка символьных значений

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

6.5 Отправка букв.

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

#### 7. Поле Год

7.1 Отправка пустого поля.

ОР: Уведомление об обязательном заполнении поля, данные не отправляются, записей таблицах БД нет.

7.2 Отправка значения меньше текущего года.

ОР: Уведомление об истекшем сроке действия карты, данные не отправляются, записей в таблицах БД нет.

7.3 Отправка значения большего текушего года на 3 года.

ОР: Уведомление о истекшем действии карты, данные не отправляются, записей в таблицах БД нет.

7.4 Отправка значения менее 2 цифр.

ОР: Уведомление о неверном формате введенных данных, данные не отправляются, записей в таблицах БД нет.

7.5 Отправка символьных значений

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

7.6 Отправка букв.

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

#### 8 Поле Владелец

8.1 Отправка пустого поля.

ОР: Уведомление об обязательном заполнении поля, данные не отправляются, записей таблицах БД нет.

8.2 Отправка трех и более слов латинскими буквами.

ОР: Уведомление о неверном формате введенных данных, данные не отправляются, записей в таблицах БД нет

8.3 Отправка символьных значений

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

8.4 Отправка слов кириллицей.

ОР: Уведомление о неверном формате введенных данных, данные не отправляются, записей в таблицах БД не создается.

8.5 Отправка чисел.

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

#### 9. Поле CVC/CVV

9.1 Отправка пустого поля.

ОР: Уведомление об обязательном заполнении поля, данные не отправляются, записей таблицах БД нет.

9.2 Отправка 2 цифр.

ОР: Уведомление о неверном формате введенных данных, данные не отправляются, записей в таблицах БД нет

9.3 Отправка 4 цифр.

ОР: Вводятся первые три цифры, проверка карты не проходит на соответствие, уведомление о неправильно введенных данных, в таблицах БД записей нет.

9.4 Отправка символьных значений

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

9.5 Отправка букв.

ОР: Значения не удается ввести, уведомление об обязательном заполнении поля, данные не отправляются, записей в таблицах БД нет.

## Перечень используемых инструментов с обоснованием выбора
___________________________________________________________
* Java (версия 11) - применяемый язык программирования;
* IntelliJ IDEA - среда разработки программного обеспечения для многих языков программирования;
* Gradle - система автоматической сборки проектов;
* JUnit 5 - популярный фреймфорк для модульного тестирования ПО;
* Faker - инструмент для генерации данных для формы записи;
* Selenide - фреймворк для автоматизированного тестирования; 
* Lombok - плагин для автоматической генерации кода, позволяет сократить количество кода;
* Docker -  ПО для автоматизации развёртывания и управления приложениями. Нужен для развертывания СУБД MySQL и PostgreSQL, а также Node.js;
* Allure - фреймворк для создания отчетов о тестировании;
* Git - распределённая система управления версиями.

## Перечень и описание возможных рисков при автоматизации
___________________________________________________________

1. Возможные сложности в подключении и настройке необходимого окружения, Docker, БД и SUT;
1. Сложность определения селекторов и последующего изменения их;
1. Полнота описания сценариев тестирования;
1. Недостаточная документация, неполные требования, часто изменяющиеся требования;
1. Использование симулятора банковских сервисов, как следствие возникновение возможных ошибок;
1. Необходимость проверять для двух СУБД.

## Интервальная оценка с учётом рисков в часах
___________________________________________________________

1. Разворачивание приложения, подготовка окружения и инфраструктуры, развертывание БД - 12 часов;
1. Описание автоматизированных сценариев - 16 часов;
1. Автоматизация тестирования - 100 часов;
1. Формирование отчетов по результату тестирования - 16 часов;
1. Формирование отчётов по итогам автоматизации - 8 часов.

На возможные риски 10 % от всего объема работ. 

**Итого:** 12 + 16 + 100 + 16 + 8 = 152 + 10 % (15) = **167 часов**

## План сдачи работ
___________________________________________________________

1. Готовность автотестов - 11.05.2023
1. Готовность отчетов по результатам тестирования и автоматизации - 15.05.2023